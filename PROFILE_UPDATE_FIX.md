# Profile Update API - ุงูุชุตุญูุญ ุงูููุงุฆู

## ๐ฏ **ูุชุทูุจุงุช ุงูุดุงุดุฉ:**
ุจูุงุกู ุนูู ุดุงุดุฉ Profile ุงููุนุฑูุถุฉุ ูุฌุจ ุฃู ูุฏุนู update profile:

1. โ **ุชุญุฏูุซ ุตูุฑุฉ ุงูุจุฑููุงูู** (profileImage)
2. โ **ุชุญุฏูุซ ุงุณู ุงููุณุชุฎุฏู** (displayName) 
3. โ **ุชุญุฏูุซ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู** (email) - **ุฌุฏูุฏ**
4. โ **ุชุญุฏูุซ ูููุฉ ุงููุฑูุฑ** (password) - ูููุตู

## ๐ง **ุงูุชุตุญูุญุงุช ุงููุทุจูุฉ:**

### โ 1. ุฅุถุงูุฉ ุญูู email ููู update profile:

#### **ูู validation schema:**
```javascript
email: joi
  .string()
  .email({ tlds: { allow: false } })
  .optional()
  .label('ุงูุจุฑูุฏ ุงูุฅููุชุฑููู')
  .messages(defaultMessages)
```

#### **ูู controller:**
```javascript
// ุฅุถุงูุฉ email ููุญููู ุงููุณููุญุฉ
const allowedFields = ['displayName', 'email', 'bio', 'job', 'location', 'website', 'socialMedia'];

// ุงูุชุญูู ูู ุฃู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุฑูุฏ
if (req.body.email) {
  const existingUser = await userModel.findOne({ 
    email: req.body.email, 
    _id: { $ne: userId } 
  });
  
  if (existingUser) {
    return res.fail(null, 'ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุชุฎุฏู ุจุงููุนู', 400);
  }
}
```

### โ 2. ุชุญุฏูุซ Swagger documentation:
- ุฅุถุงูุฉ ุญูู `email` ูู `UpdateProfileRequest` schema
- ุฅุถุงูุฉ validation ู example ููุจุฑูุฏ ุงูุฅููุชุฑููู

### โ 3. ุงูุญููู ุงููุฏุนููุฉ ุงูุขู:

#### **ุงูุญููู ุงูุฃุณุงุณูุฉ (ูุซู ุงูุดุงุดุฉ):**
- `displayName` - ุงุณู ุงููุณุชุฎุฏู โ
- `email` - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู โ
- `profileImage` - ุตูุฑุฉ ุงูุจุฑููุงูู โ

#### **ุงูุญููู ุงูุฅุถุงููุฉ:**
- `bio` - ุงููุจุฐุฉ ุงูุดุฎุตูุฉ
- `job` - ุงููููุฉ  
- `location` - ุงููููุน
- `website` - ุงููููุน ุงูุฅููุชุฑููู
- `socialMedia` - ูุณุงุฆู ุงูุชูุงุตู ุงูุงุฌุชูุงุนู

#### **ุชุบููุฑ ูููุฉ ุงููุฑูุฑ (ูููุตู):**
- endpoint ูููุตู: `PUT /user/change-password`
- ูุชุทูุจ: `currentPassword`, `newPassword`, `confirmPassword`

## ๐ **ูุซุงู ุงูุทูุจ ุงูุตุญูุญ:**

### **ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู:**
```json
{
  "displayName": "ุฃุญูุฏ ูุญูุฏ",
  "email": "ahmed.mohamed@example.com",
  "bio": "ููุงู ุชุดูููู ูุชุฎุตุต ูู ุงูุฑุณู ุงูุฒูุชู",
  "job": "ุฑุณุงู ููุตูู ุฌุฑุงููู",
  "location": "ุฌุฏุฉุ ุงูุณุนูุฏูุฉ"
}
```

### **ุชุญุฏูุซ ุตูุฑุฉ ุงูุจุฑููุงูู:**
```multipart/form-data
profileImage: [file]
displayName: "ุฃุญูุฏ ูุญูุฏ"
email: "ahmed.mohamed@example.com"
```

### **ุชุบููุฑ ูููุฉ ุงููุฑูุฑ:**
```json
{
  "currentPassword": "oldPassword123!",
  "newPassword": "newPassword123!",
  "confirmPassword": "newPassword123!"
}
```

## ๐ฏ **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:**

### โ **ุงูุขู API ูุฏุนู ุชูุงูุงู ูุชุทูุจุงุช ุงูุดุงุดุฉ:**
- โ ุชุญุฏูุซ ุตูุฑุฉ ุงูุจุฑููุงูู
- โ ุชุญุฏูุซ ุงุณู ุงููุณุชุฎุฏู  
- โ ุชุญุฏูุซ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- โ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ (ูููุตู)

### โ **ุงูุชุญุณููุงุช ุงููุถุงูุฉ:**
- โ validation ููุจุฑูุฏ ุงูุฅููุชุฑููู
- โ ุงูุชุญูู ูู ุชูุฑุฏ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ
- โ Swagger documentation ูุญุฏุซ

### โ **ุงูุฃูุงู:**
- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- โ ููุน ุชูุฑุงุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- โ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ูุชุทูุจ ูููุฉ ุงููุฑูุฑ ุงูุญุงููุฉ

## ๐ **ุงูุญุงูุฉ:**
โ **ุชู ุงูุชุตุญูุญ ุจูุฌุงุญ**
โ **API ูุชุทุงุจู ูุน ูุชุทูุจุงุช ุงูุดุงุดุฉ**
โ **ุฌููุน ุงููุธุงุฆู ุชุนูู ุจุดูู ุตุญูุญ**
โ **ุงูุชูุซูู ูุญุฏุซ ููููุฏ** 