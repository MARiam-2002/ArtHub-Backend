# ุฏููู ูุธุงู ุฅุฏุงุฑุฉ ุงูุทูุจุงุช

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุฅุฏุงุฑุฉ ุงูุทูุจุงุช ุจูุงุกู ุนูู ุงูุตูุฑุฉ ุงููุฑููุฉ ูุชูููุฑ ูุงุฌูุฉ ุฅุฏุงุฑูุฉ ุดุงููุฉ ูุฅุฏุงุฑุฉ ุฌููุน ุงูุทูุจุงุช ูู ุงูููุตุฉ. ุงููุธุงู ูููุฑ ุฅููุงููุงุช ูุชูุฏูุฉ ููููุชุฑุฉุ ุงูุจุญุซุ ุงูุชุตุฏูุฑ ูุงูุฅุญุตุงุฆูุงุช.

## ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ ุงูุจุญุซ ูุงูููุชุฑุฉ ุงููุชูุฏูุฉ
- **ุงูุจุญุซ ุงููุตู**: ุงูุจุญุซ ูู ุนููุงู ุงูุทูุจุ ุงููุตูุ ุงุณู ุงูููุงู ุฃู ุงูุนููู
- **ููุชุฑุฉ ุญุณุจ ุงูููุงู**: ุนุฑุถ ุงูุทูุจุงุช ูููุงู ูุญุฏุฏ
- **ููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ**: pending, accepted, rejected, in_progress, review, completed, cancelled
- **ููุชุฑุฉ ุญุณุจ ุงูุชุงุฑูุฎ**: ุชุญุฏูุฏ ูุชุฑุฉ ุฒูููุฉ ูุญุฏุฏุฉ
- **ุงูุชุฑุชูุจ**: ุชุฑุชูุจ ุญุณุจ ุงูุชุงุฑูุฎุ ุงูุนููุงูุ ุงูุณุนุฑ ุฃู ุงูุญุงูุฉ

### ๐ ุงูุฅุญุตุงุฆูุงุช ูุงูุชุญูููุงุช
- **ุฅุญุตุงุฆูุงุช ุดุงููุฉ**: ุฅุฌูุงูู ุงูุทูุจุงุช ูุงูุฅูุฑุงุฏุงุช
- **ุชุญููู ุงูุญุงูุงุช**: ุชูุฒูุน ุงูุทูุจุงุช ุญุณุจ ุงูุญุงูุฉ
- **ุฃูุถู ุงูููุงููู**: ูุงุฆูุฉ ุงูููุงููู ุงูุฃูุซุฑ ูุดุงุทุงู
- **ุงูุงุชุฌุงูุงุช ุงูุฃุณุจูุนูุฉ**: ุชุญููู ุงูุฃุฏุงุก ุนุจุฑ ุงูุฒูู

### ๐ค ุงูุชุตุฏูุฑ ูุงูุจูุงูุงุช
- **ุชุตุฏูุฑ CSV**: ุชุตุฏูุฑ ุจูุงูุงุช ุงูุทูุจุงุช ุจุตูุบุฉ CSV
- **ุจูุงูุงุช ููุธูุฉ**: ุชูุณูู ุงูุจูุงูุงุช ููุนุฑุถ ูุงูุชุญููู
- **ููุชุฑุฉ ุงูุชุตุฏูุฑ**: ุชุตุฏูุฑ ุงูุจูุงูุงุช ุงููููุชุฑุฉ ููุท

### ๐ ุฅุฏุงุฑุฉ ุงูุญุงูุงุช
- **ุชุญุฏูุซ ุงูุญุงูุงุช**: ุชุบููุฑ ุญุงูุฉ ุงูุทูุจ ูุน ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ
- **ุงูุชูุงุฑูุฎ ุงูุชููุงุฆูุฉ**: ุชุญุฏูุซ ุงูุชูุงุฑูุฎ ุญุณุจ ุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ
- **ุงูุชูุฏู**: ุชุชุจุน ูุณุจุฉ ุฅูุฌุงุฒ ุงูุนูู

## ููุงุท ุงูููุงูุฉ API

### 1. ุฌูุจ ุฌููุน ุงูุทูุจุงุช
```
GET /api/admin/orders
```

**ุงููุนุงููุงุช:**
- `page`: ุฑูู ุงูุตูุญุฉ (ุงูุชุฑุงุถู: 1)
- `limit`: ุนุฏุฏ ุงูุนูุงุตุฑ ูู ุงูุตูุญุฉ (ุงูุชุฑุงุถู: 20)
- `search`: ูุต ุงูุจุญุซ
- `artistId`: ูุนุฑู ุงูููุงู ููููุชุฑุฉ
- `status`: ุญุงูุฉ ุงูุทูุจ ููููุชุฑุฉ
- `dateFrom`: ุชุงุฑูุฎ ุงูุจุฏุงูุฉ
- `dateTo`: ุชุงุฑูุฎ ุงูููุงูุฉ
- `sortBy`: ุญูู ุงูุชุฑุชูุจ
- `sortOrder`: ุงุชุฌุงู ุงูุชุฑุชูุจ (asc/desc)
- `export`: ุชุตุฏูุฑ ุงูุจูุงูุงุช (true/false)

**ูุซุงู ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "message": "ุชู ุฌูุจ ุงูุทูุจุงุช ุจูุฌุงุญ",
  "data": {
    "orders": [
      {
        "_id": "507f1f77bcf86cd799439011",
        "title": "ููุญุฉ ุฒูุชูุฉ ูุฎุตุตุฉ",
        "description": "ูุตู ุงูุทูุจ",
        "price": 850,
        "currency": "SAR",
        "orderDate": "2025-01-18T10:30:00.000Z",
        "artist": {
          "_id": "507f1f77bcf86cd799439012",
          "name": "ุฃุญูุฏ ูุญูุฏ",
          "profileImage": "https://example.com/profile.jpg"
        },
        "customer": {
          "_id": "507f1f77bcf86cd799439013",
          "name": "ููู ุณุงูู",
          "profileImage": "https://example.com/customer.jpg"
        },
        "status": {
          "value": "completed",
          "label": "ููุชูู",
          "color": "#4CAF50"
        },
        "requestType": {
          "value": "custom_artwork",
          "label": "ุนูู ููู ูุฎุตุต"
        },
        "priority": {
          "value": "medium",
          "label": "ูุชูุณุทุฉ"
        },
        "currentProgress": 100,
        "attachments": [],
        "deliverables": []
      }
    ],
    "pagination": {
      "page": 1,
      "limit": 20,
      "total": 150,
      "pages": 8
    },
    "filters": {
      "availableArtists": [...],
      "availableStatuses": [...]
    }
  }
}
```

### 2. ุฌูุจ ุชูุงุตูู ุทูุจ ูุงุญุฏ
```
GET /api/admin/orders/{id}
```

**ูุซุงู ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "message": "ุชู ุฌูุจ ุชูุงุตูู ุงูุทูุจ ุจูุฌุงุญ",
  "data": {
    "_id": "507f1f77bcf86cd799439011",
    "title": "ููุญุฉ ุฒูุชูุฉ ูุฎุตุตุฉ",
    "description": "ูุตู ุชูุตููู ููุทูุจ",
    "requestType": {
      "value": "custom_artwork",
      "label": "ุนูู ููู ูุฎุตุต"
    },
    "budget": 850,
    "quotedPrice": 900,
    "finalPrice": 900,
    "currency": "SAR",
    "status": {
      "value": "completed",
      "label": "ููุชูู",
      "color": "#4CAF50"
    },
    "priority": {
      "value": "medium",
      "label": "ูุชูุณุทุฉ"
    },
    "artist": {
      "_id": "507f1f77bcf86cd799439012",
      "displayName": "ุฃุญูุฏ ูุญูุฏ",
      "profileImage": "https://example.com/profile.jpg",
      "email": "ahmed@example.com",
      "phone": "+966501234567",
      "job": "ููุงู ุชุดูููู",
      "stats": {
        "totalOrders": 25,
        "completedOrders": 20,
        "totalRevenue": 15000,
        "averageRating": 4.8
      }
    },
    "customer": {
      "_id": "507f1f77bcf86cd799439013",
      "displayName": "ููู ุณุงูู",
      "profileImage": "https://example.com/customer.jpg",
      "email": "mona@example.com",
      "phone": "+966501234568",
      "stats": {
        "totalOrders": 12,
        "completedOrders": 10,
        "totalSpent": 8500,
        "averageRating": 4.5
      }
    },
    "currentProgress": 100,
    "usedRevisions": 1,
    "maxRevisions": 3,
    "attachments": [...],
    "deliverables": [...],
    "milestones": [...],
    "revisions": [...],
    "specifications": {...},
    "communicationPreferences": {...},
    "tags": ["ูู", "ุฅุจุฏุงุน", "ูุฎุตุต"],
    "response": "ุชู ุฅููุงู ุงูุนูู ุจูุฌุงุญ",
    "finalNote": "ููุงุญุธุฉ ููุงุฆูุฉ",
    "createdAt": "2025-01-18T10:30:00.000Z",
    "updatedAt": "2025-01-18T10:30:00.000Z",
    "acceptedAt": "2025-01-20T10:30:00.000Z",
    "startedAt": "2025-01-22T10:30:00.000Z",
    "completedAt": "2025-02-05T10:30:00.000Z"
  }
}
```

### 3. ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ
```
PATCH /api/admin/orders/{id}/status
```

**ุงูุจูุงูุงุช ุงููุทููุจุฉ:**
```json
{
  "status": "completed",
  "reason": "ุชู ุฅููุงู ุงูุนูู ุจูุฌุงุญ",
  "estimatedDelivery": "2025-02-10T10:30:00.000Z"
}
```

**ูุซุงู ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "message": "ุชู ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ุจูุฌุงุญ",
  "data": {
    "_id": "507f1f77bcf86cd799439011",
    "status": {
      "value": "completed",
      "label": "ููุชูู",
      "color": "#4CAF50"
    },
    "updatedAt": "2025-01-18T10:30:00.000Z"
  }
}
```

### 4. ุญุฐู ุทูุจ
```
DELETE /api/admin/orders/{id}
```

### 5. ุฌูุจ ุฅุญุตุงุฆูุงุช ุงูุทูุจุงุช
```
GET /api/admin/orders/statistics?period=30days
```

**ูุซุงู ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "message": "ุชู ุฌูุจ ุฅุญุตุงุฆูุงุช ุงูุทูุจุงุช ุจูุฌุงุญ",
  "data": {
    "totalOrders": 150,
    "totalRevenue": 125000,
    "statusBreakdown": [
      {
        "status": "completed",
        "label": "ููุชูู",
        "count": 85,
        "revenue": 75000
      },
      {
        "status": "in_progress",
        "label": "ููุฏ ุงูุชูููุฐ",
        "count": 25,
        "revenue": 20000
      }
    ],
    "topArtists": [
      {
        "artistId": "507f1f77bcf86cd799439012",
        "artistName": "ุฃุญูุฏ ูุญูุฏ",
        "orderCount": 25,
        "revenue": 15000
      }
    ],
    "weeklyTrend": [
      {
        "week": "2025-W3",
        "orderCount": 12,
        "revenue": 8500
      }
    ]
  }
}
```

## ุญุงูุงุช ุงูุทูุจุงุช

| ุงูุญุงูุฉ | ุงูุชุณููุฉ | ุงูููู | ุงููุตู |
|--------|----------|-------|-------|
| `pending` | ููุฏ ุงูุงูุชุธุงุฑ | #FFA500 | ุงูุทูุจ ูู ุงูุชุธุงุฑ ุฑุฏ ุงูููุงู |
| `accepted` | ููุจูู | #4CAF50 | ุชู ูุจูู ุงูุทูุจ ูู ุงูููุงู |
| `rejected` | ูุฑููุถ | #F44336 | ุชู ุฑูุถ ุงูุทูุจ |
| `in_progress` | ููุฏ ุงูุชูููุฐ | #2196F3 | ุงูุนูู ุฌุงุฑู ุงูุชูููุฐ |
| `review` | ููุฏ ุงููุฑุงุฌุนุฉ | #9C27B0 | ุงูุนูู ูู ูุฑุญูุฉ ุงููุฑุงุฌุนุฉ |
| `completed` | ููุชูู | #4CAF50 | ุชู ุฅููุงู ุงูุนูู |
| `cancelled` | ููุบู | #757575 | ุชู ุฅูุบุงุก ุงูุทูุจ |

## ุฃููููุงุช ุงูุทูุจุงุช

| ุงูุฃููููุฉ | ุงูุชุณููุฉ | ุงููุตู |
|----------|----------|-------|
| `low` | ููุฎูุถุฉ | ุทูุจ ุนุงุฏู |
| `medium` | ูุชูุณุทุฉ | ุทูุจ ุนุงุฏู |
| `high` | ุนุงููุฉ | ุทูุจ ููู |
| `urgent` | ุนุงุฌูุฉ | ุทูุจ ุนุงุฌู |

## ุฃููุงุน ุงูุทูุจุงุช

| ุงูููุน | ุงูุชุณููุฉ | ุงููุตู |
|-------|----------|-------|
| `custom_artwork` | ุนูู ููู ูุฎุตุต | ุนูู ููู ูุฎุตุต ุญุณุจ ุงูุทูุจ |
| `portrait` | ุจูุฑุชุฑูู | ุฑุณู ุจูุฑุชุฑูู |
| `logo_design` | ุชุตููู ุดุนุงุฑ | ุชุตููู ุดุนุงุฑ |
| `illustration` | ุฑุณู ุชูุถูุญู | ุฑุณู ุชูุถูุญู |
| `digital_art` | ูู ุฑููู | ุนูู ููู ุฑููู |
| `traditional_art` | ูู ุชูููุฏู | ุนูู ููู ุชูููุฏู |
| `animation` | ุฑุณูู ูุชุญุฑูุฉ | ุฑุณูู ูุชุญุฑูุฉ |
| `graphic_design` | ุชุตููู ุฌุฑุงููู | ุชุตููู ุฌุฑุงููู |
| `character_design` | ุชุตููู ุดุฎุตูุฉ | ุชุตููู ุดุฎุตูุฉ |
| `concept_art` | ูู ุงูููุงููู | ูู ุงูููุงููู |
| `other` | ุฃุฎุฑู | ุฃููุงุน ุฃุฎุฑู |

## ุฅุนุฏุงุฏ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ

ูุชุดุบูู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉุ ุงุณุชุฎุฏู ุงูุณูุฑูุจุช ุงูุชุงูู:

```bash
node scripts/add-mock-orders.js
```

ูุฐุง ุงูุณูุฑูุจุช ุณูููู ุจุฅูุดุงุก:
- 13 ุทูุจ ุจูุงุกู ุนูู ุงูุตูุฑุฉ ุงููุฑููุฉ
- ุฃุณูุงุก ุงูููุงููู ูุงูุนููุงุก ูู ุงูุตูุฑุฉ
- ุชูุงุฑูุฎ ุงูุทูุจุงุช ุงูุญููููุฉ
- ุญุงูุงุช ูุฃููููุงุช ูุชููุนุฉ
- ุจูุงูุงุช ุชูุตูููุฉ ููู ุทูุจ

## ุงูุฃูุงู ูุงูุตูุงุญูุงุช

- ุฌููุน ููุงุท ุงูููุงูุฉ ุชุชุทูุจ ูุตุงุฏูุฉ
- ุงูุตูุงุญูุงุช ูุทููุจุฉ: `admin` ุฃู `superadmin`
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูู ุฌููุน ุงูุทูุจุงุช
- ุญูุงูุฉ ูู ูุฌูุงุช SQL Injection
- ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ

## ุงูุฃุฏุงุก ูุงูุชุญุณูู

- **ุงูููุงุฑุณ**: ููุงุฑุณ ูุญุณูุฉ ุนูู ุงูุญููู ุงููุณุชุฎุฏูุฉ ุจูุซุฑุฉ
- **ุงูุชุฌููุน**: ุงุณุชุฎุฏุงู MongoDB Aggregation ููุงุณุชุนูุงูุงุช ุงููุนูุฏุฉ
- **ุงูุชุฎุทูุท**: ุฏุนู ุงูุชุฎุทูุท ููููุงุฆู ุงููุจูุฑุฉ
- **ุงูุชุฎุฒูู ุงููุคูุช**: ุชุฎุฒูู ูุคูุช ููุจูุงูุงุช ุงููุชูุฑุฑุฉ
- **ุงูุชุญุณูู**: ุชุญุณูู ุงูุงุณุชุนูุงูุงุช ููุฃุฏุงุก ุงูุฃูุซู

## ุงููุฑุงูุจุฉ ูุงูุชุชุจุน

- **ุณุฌูุงุช ุงูุฃุฎุทุงุก**: ุชุณุฌูู ุฌููุน ุงูุฃุฎุทุงุก ููุชุญููู
- **ููุงููุณ ุงูุฃุฏุงุก**: ุชุชุจุน ุฃููุงุช ุงูุงุณุชุฌุงุจุฉ
- **ุฅุญุตุงุฆูุงุช ุงูุงุณุชุฎุฏุงู**: ุชุชุจุน ุงุณุชุฎุฏุงู API
- **ุชูุจููุงุช**: ุชูุจููุงุช ููุฃุฎุทุงุก ุงูุญุฑุฌุฉ

## ุงูุฏุนู ูุงูุตูุงูุฉ

- **ุงูุชูุซูู ุงููุงูู**: ุฌููุน ุงูููุงุท ููุซูุฉ ุจุงููุงูู
- **ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู**: ุฃูุซูุฉ ุนูููุฉ ููู ููุทุฉ ููุงูุฉ
- **ุฑุณุงุฆู ุงูุฎุทุฃ**: ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ููููุฏุฉ
- **ุงูุชุญุฏูุซุงุช**: ุชุญุฏูุซุงุช ุฏูุฑูุฉ ููุฃูุงู ูุงูุฃุฏุงุก

## ุงูุฎูุงุตุฉ

ูุธุงู ุฅุฏุงุฑุฉ ุงูุทูุจุงุช ูููุฑ ุญูุงู ุดุงููุงู ููุชูุฏู ูุฅุฏุงุฑุฉ ุงูุทูุจุงุช ูู ุงูููุตุฉุ ูุน ูุงุฌูุฉ ุณููุฉ ุงูุงุณุชุฎุฏุงู ูุฅููุงููุงุช ูุชูุฏูุฉ ููููุชุฑุฉ ูุงูุจุญุซ ูุงูุชุญููู. ุงููุธุงู ูุตูู ููููู ูุงุจูุงู ููุชูุณุน ูููู ุงูุฃุฏุงุก ูุน ุงูุญูุงุธ ุนูู ุงูุฃูุงู ูุงูููุซูููุฉ. 